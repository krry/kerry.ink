import{useEffect as h,useState as g}from"react";async function s(e){if(typeof e=="object"&&e!==null)return e;if(typeof e=="string"){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch webring data from ${e}: ${r.statusText}`);return r.json()}throw new Error("Invalid data source: must be a URL string or WebringData object")}function w(e){return typeof e=="object"&&typeof e.version=="string"&&Array.isArray(e.links)&&e.links.every(r=>typeof r.name=="string"&&typeof r.url=="string")}import{jsx as o,jsxs as b}from"react/jsx-runtime";var u=({data:e,mode:r="compact",theme:d="auto",onLinkClick:f})=>{let[t,m]=g(null),[p,l]=g(!0),[c,a]=g(null);return h(()=>{(async()=>{try{if(!e){a("No data source provided"),l(!1);return}let n=await s(e);if(!w(n)){a("Invalid webring data format"),l(!1);return}m(n),a(null)}catch(n){a(n instanceof Error?n.message:"Failed to load webring data")}finally{l(!1)}})()},[e]),p?o("div",{className:"webring webring--loading",children:"Loading webring..."}):c?b("div",{className:"webring webring--error",children:["Error: ",c]}):!t||!t.links||t.links.length===0?o("div",{className:"webring webring--empty",children:"No links found"}):o("div",{className:`webring webring--${r} webring--theme-${d}`,children:b("div",{className:"webring__container",children:[o("h3",{className:"webring__title",children:"Webring"}),o("ul",{className:"webring__links",children:t.links.map((i,n)=>b("li",{className:"webring__link-item",children:[o("a",{href:i.url,className:"webring__link",title:i.description||i.name,onClick:()=>f?.(i),children:i.name}),i.description&&r==="full"&&o("p",{className:"webring__description",children:i.description})]},n))})]})})},N=u;export{u as Webring,N as default};
//# sourceMappingURL=webring.esm.js.map
